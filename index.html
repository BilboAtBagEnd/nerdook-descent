<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8" />
<title>Nerdook's Descent Variant: Card Selector</title>

<style type="text/css">
#outer_container { 
  display: table;
}

#menu_pane { 
}

#content_pane {
}

#overlord_deck_pane, #dungeon_deck_pane, #lts_deck_pane { 
  display: none;
}

#overlord_deck, #dungeon_deck, #lts_deck { 
  background-color: black;
  width: 300px;
  height: 465px;
}

.deck_drawn:before { 
  content: 'Drawn: ';
}

.deck_left:before {
  content: 'Left: ';
}

img { max-width: 100%; }
</style>

<script src="js/jquery.js"></script>
<script src="js/ndescent.js"></script>

<script>
function drawCard(deck, $img, $drawn_count, $left_count) {
    $img.attr("src", deck.draw());
    $drawn_count.text(deck.discard.length);
    $left_count.text(deck.deck.length);
}
function drawOverlordCard() { 
    drawCard(NDESCENT.OverlordDeck, $("#overlord_deck_card"), 
             $("#overlord_deck_count .deck_drawn"), 
             $("#overlord_deck_count .deck_left"));
}
function drawDungeonCard() { 
    drawCard(NDESCENT.DungeonDeck, $("#dungeon_deck_card"), 
             $("#dungeon_deck_count .deck_drawn"), 
             $("#dungeon_deck_count .deck_left"));
}
function drawLtsCard() { 
    drawCard(NDESCENT.LtsDeck, $("#lts_deck_card"), 
             $("#lts_deck_count .deck_drawn"), 
             $("#lts_deck_count .deck_left"));
}

$(document).ready(function() {
    $("#big_cards_menu").click(function() {
        $("#content_pane").children().hide();
        $("#big_cards_pane").show();
    });
    $("#overlord_deck_menu").click(function() {
        $("#content_pane").children().hide();
        $("#overlord_deck_pane").show();
    });
    $("#dungeon_deck_menu").click(function() {
        $("#content_pane").children().hide();
        $("#dungeon_deck_pane").show();
    });
    $("#lts_deck_menu").click(function() {
        $("#content_pane").children().hide();
        $("#lts_deck_pane").show();
    });

    $("#overlord_deck_draw").click(function() {
        drawOverlordCard();
    });
    $("#overlord_deck_reshuffle").click(function() {
        NDESCENT.OverlordDeck.reshuffle();
        drawOverlordCard();
    });

    $("#dungeon_deck_draw").click(function() {
        drawDungeonCard();
    });
    $("#dungeon_deck_reshuffle").click(function() {
        NDESCENT.DungeonDeck.reshuffle();
        drawDungeonCard();
    });

    $("#lts_deck_draw").click(function() {
        drawLtsCard();
    });
    $("#lts_deck_reshuffle").click(function() {
        NDESCENT.LtsDeck.reshuffle();
        drawLtsCard();
    });

    drawOverlordCard();
    drawDungeonCard();
    drawLtsCard();
});
</script>

</head>

<body>

<h1>Nerdook's Assistant</h1>

<div id="outer_container">
  <div id="menu_pane">
    <ul>
      <li><a id="big_cards_menu" href="#">The Big Cards</a></li>
      <li><a id="overlord_deck_menu" href="#">The Overlord Deck</a></li>
      <li><a id="dungeon_deck_menu" href="#">The Dungeon Deck</a></li>
      <li><a id="lts_deck_menu" href="#">The Lieutenants Deck</a></li>
    </ul>
  </div>

  <div id="content_pane">

    <div id="big_cards_pane">
      <h2>The Big Cards Explaining All</h2>
      <img src="images/Custom Deck - Big Cards/bccard0001.jpg" /><br />
      <img src="images/Custom Deck - Big Cards/bccard0002.jpg" /><br />
      <img src="images/Custom Deck - Big Cards/bccard0003.jpg" />
    </div>

    <div id="overlord_deck_pane">
      <h2>Overlord Deck</h2>
      <button id="overlord_deck_draw">Draw</button>

      <span id="overlord_deck_count">
        <span class="deck_drawn">0</span>
        /
        <span class="deck_left">0</span>
      </span>

      <button id="overlord_deck_reshuffle">Reshuffle</button>
      <br />
      <div id="overlord_deck">
        <img id="overlord_deck_card" />
      </div>
    </div>

    <div id="dungeon_deck_pane">
      <h2>Dungeon Deck</h2>
      <button id="dungeon_deck_draw">Draw</button>

      <span id="dungeon_deck_count">
        <span class="deck_drawn">0</span>
        /
        <span class="deck_left">0</span>
      </span>

      <button id="dungeon_deck_reshuffle">Reshuffle</button>
      <br />
      <div id="dungeon_deck">
        <img id="dungeon_deck_card" />
      </div>
    </div>

    <div id="lts_deck_pane">
      <h2>Lietenants Deck</h2>
      <button id="lts_deck_draw">Draw</button>

      <span id="lts_deck_count">
        <span class="deck_drawn">0</span>
        /
        <span class="deck_left">0</span>
      </span>

      <button id="lts_deck_reshuffle">Reshuffle</button>
      <br />
      <div id="lts_deck">
        <img id="lts_deck_card" />
      </div>
    </div>

  </div>

</div>

</body>
</html>
